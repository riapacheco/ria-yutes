import { warn } from '@algolia/autocomplete-shared';
import { getAttributeValueByPath } from './getAttributeValueByPath';
import { parseAttribute } from './parseAttribute';
export function parseAlgoliaHitHighlight(_ref) {
  var hit = _ref.hit,
      attribute = _ref.attribute,
      ignoreEscape = _ref.ignoreEscape;
  var path = "_highlightResult.".concat(attribute, ".value");
  var highlightedValue = getAttributeValueByPath(hit, path);

  if (typeof highlightedValue !== 'string') {
    process.env.NODE_ENV !== 'production' ? warn(false, "The attribute ".concat(JSON.stringify(path), " does not exist on the hit. Did you set it in `attributesToHighlight`?") + '\nSee https://www.algolia.com/doc/api-reference/api-parameters/attributesToHighlight/') : void 0;
    highlightedValue = getAttributeValueByPath(hit, attribute) || '';
  }

  return parseAttribute({
    highlightedValue: highlightedValue,
    ignoreEscape: ignoreEscape
  });
}